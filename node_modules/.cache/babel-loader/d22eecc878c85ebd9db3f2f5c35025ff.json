{"ast":null,"code":"var _jsxFileName = \"/home/leo/Dokument/GitHub/tibber/tibber-webapp/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport CurrentPrice from './components/CurrentPrice';\nimport Prices from './components/Prices';\nimport TodaysPrices from './components/TodaysPrices';\nimport TomorrowsPrices from './components/TomorrowsPrices';\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [currentPrice, setCurrentPrice] = useState(null);\n  const [todaysPrices, setTodaysPrices] = useState(null);\n  const [tomorrowsPrices, setTomorrowsPrices] = useState(null);\n  const [seperate, setSeperate] = useState(null);\n  const query = `query{\n\t\tviewer {\n\t\t\thomes {\n\t\t\t\tcurrentSubscription{\n\t\t\t\t\tpriceInfo{\n\t\t\t\t\t\tcurrent{\n\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\tenergy\n\t\t\t\t\t\t\ttax\n\t\t\t\t\t\t\tstartsAt\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoday {\n\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\tenergy\n\t\t\t\t\t\t\ttax\n\t\t\t\t\t\t\tstartsAt\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttomorrow {\n\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\tenergy\n\t\t\t\t\t\t\ttax\n\t\t\t\t\t\t\tstartsAt\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n  }`;\n\n  function handleData(data) {\n    console.log(data);\n    setTodaysPrices(data['viewer']['homes'][0]['currentSubscription']['priceInfo']['today']);\n    setTomorrowsPrices(data['viewer']['homes'][0]['currentSubscription']['priceInfo']['tomorrow']);\n    setCurrentPrice(data['viewer']['homes'][0]['currentSubscription']['priceInfo']['current']);\n  }\n\n  async function getPrices() {\n    console.log('Submitting');\n    let response = fetch('https://api.tibber.com/v1-beta/gql', {\n      method: 'POST',\n      headers: {\n        Authorization: 'Bearer QjAfeE7K_2jwxTx0k0TeSd7B_LUZjgYCqd-51M8BAtg',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        query\n      })\n    });\n    response.then(res => res.json()).then(data => handleData(data['data']));\n  }\n\n  useEffect(() => {\n    getPrices();\n  }, []);\n  useEffect(() => {\n    console.log(currentPrice);\n    console.log(todaysPrices);\n    console.log(tomorrowsPrices);\n  }, [currentPrice]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [currentPrice && /*#__PURE__*/_jsxDEV(CurrentPrice, {\n      currentPrice: currentPrice\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }, this), todaysPrices && tomorrowsPrices && !seperate && /*#__PURE__*/_jsxDEV(Prices, {\n      todaysPrices: todaysPrices,\n      tomorrowsPrices: tomorrowsPrices\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this), todaysPrices && seperate && /*#__PURE__*/_jsxDEV(TodaysPrices, {\n      todaysPrices: todaysPrices\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 33\n    }, this), tomorrowsPrices && seperate && /*#__PURE__*/_jsxDEV(TomorrowsPrices, {\n      tomorrowsPrices: tomorrowsPrices\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"dWwzWAk8F0aHmZhXGUU1diW9KOI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/leo/Dokument/GitHub/tibber/tibber-webapp/src/App.js"],"names":["CurrentPrice","Prices","TodaysPrices","TomorrowsPrices","React","useState","useEffect","App","currentPrice","setCurrentPrice","todaysPrices","setTodaysPrices","tomorrowsPrices","setTomorrowsPrices","seperate","setSeperate","query","handleData","data","console","log","getPrices","response","fetch","method","headers","Authorization","body","JSON","stringify","then","res","json"],"mappings":"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","sourcesContent":["import './App.css';\nimport CurrentPrice from './components/CurrentPrice';\nimport Prices from './components/Prices';\nimport TodaysPrices from './components/TodaysPrices';\nimport TomorrowsPrices from './components/TomorrowsPrices';\nimport React, { useState, useEffect } from 'react';\n\nfunction App() {\n\tconst [currentPrice, setCurrentPrice] = useState(null);\n\tconst [todaysPrices, setTodaysPrices] = useState(null);\n\tconst [tomorrowsPrices, setTomorrowsPrices] = useState(null);\n\tconst [seperate, setSeperate] = useState(null);\n\n\tconst query = `query{\n\t\tviewer {\n\t\t\thomes {\n\t\t\t\tcurrentSubscription{\n\t\t\t\t\tpriceInfo{\n\t\t\t\t\t\tcurrent{\n\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\tenergy\n\t\t\t\t\t\t\ttax\n\t\t\t\t\t\t\tstartsAt\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoday {\n\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\tenergy\n\t\t\t\t\t\t\ttax\n\t\t\t\t\t\t\tstartsAt\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttomorrow {\n\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\tenergy\n\t\t\t\t\t\t\ttax\n\t\t\t\t\t\t\tstartsAt\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n  }`;\n\n\tfunction handleData(data) {\n\t\tconsole.log(data);\n\t\tsetTodaysPrices(\n\t\t\tdata['viewer']['homes'][0]['currentSubscription']['priceInfo']['today']\n\t\t);\n\t\tsetTomorrowsPrices(\n\t\t\tdata['viewer']['homes'][0]['currentSubscription']['priceInfo']['tomorrow']\n\t\t);\n\t\tsetCurrentPrice(\n\t\t\tdata['viewer']['homes'][0]['currentSubscription']['priceInfo']['current']\n\t\t);\n\t}\n\n\tasync function getPrices() {\n\t\tconsole.log('Submitting');\n\t\tlet response = fetch('https://api.tibber.com/v1-beta/gql', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\tAuthorization: 'Bearer QjAfeE7K_2jwxTx0k0TeSd7B_LUZjgYCqd-51M8BAtg',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({ query }),\n\t\t});\n\t\tresponse.then((res) => res.json()).then((data) => handleData(data['data']));\n\t}\n\n\tuseEffect(() => {\n\t\tgetPrices();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconsole.log(currentPrice);\n\t\tconsole.log(todaysPrices);\n\t\tconsole.log(tomorrowsPrices);\n\t}, [currentPrice]);\n\n\treturn (\n\t\t<div className='App'>\n\t\t\t{currentPrice && <CurrentPrice currentPrice={currentPrice} />}\n\t\t\t{todaysPrices && tomorrowsPrices && !seperate && (\n\t\t\t\t<Prices todaysPrices={todaysPrices} tomorrowsPrices={tomorrowsPrices} />\n\t\t\t)}\n\t\t\t{todaysPrices && seperate && <TodaysPrices todaysPrices={todaysPrices} />}\n\t\t\t{tomorrowsPrices && seperate && (\n\t\t\t\t<TomorrowsPrices tomorrowsPrices={tomorrowsPrices} />\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}