(this["webpackJsonptibber-webapp"]=this["webpackJsonptibber-webapp"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(t,e,r){},,function(t,e,r){},function(t,e,r){},,function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(1),o=r.n(n),c=r(11),a=r.n(c),s=(r(17),r(10)),i=r.n(s),u=r(12),l=r(4),b=(r(19),r(20),r(2)),j=function(t){var e=t.currentPrice,r=Object(n.useState)(null),o=Object(l.a)(r,2),c=o[0],a=o[1],s=Object(n.useState)(null),i=Object(l.a)(s,2),u=i[0],j=i[1],d=Object(n.useState)(null),f=Object(l.a)(d,2),p=f[0],h=f[1];return Object(n.useEffect)((function(){a(e.total),function(){for(var t="",r=11;r<16;r++)t+=e.startsAt[r];h(t)}(),function(){for(var t="",r=0;r<10;r++)t+=e.startsAt[r];j(t)}()}),[]),Object(b.jsxs)("div",{className:"currentPrice",children:[Object(b.jsxs)("h2",{id:c>3?"highPrice":"",children:[c,"kr"]}),Object(b.jsxs)("h4",{children:["at ",p," on ",u]})]})},d=r(7),f=r(0);r(22);f.d.register(f.c,f.i,f.k,f.h,f.o,f.p,f.f);var p=function(t){var e=t.todaysPrices,r=t.tomorrowsPrices,n={labels:Array.from({length:24},(function(t,e){return e})),datasets:[{label:"Today's Prices",data:Array.from(e,(function(t){return t.total})),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Tomorrow's Prices",data:Array.from(r,(function(t){return t.total})),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]};return Object(b.jsx)("div",{className:"prices",children:n&&Object(b.jsx)("div",{className:"chartContainer",id:"join",children:Object(b.jsx)(d.a,{data:n,options:{maintainAspectRatio:!1}})})})};r(23);f.d.register(f.c,f.i,f.k,f.h,f.o,f.p,f.f);var h=function(t){var e=t.todaysPrices,r=Array.from({length:24},(function(t,e){return e}));console.log(r);var n=Array.from(e,(function(t){return t.total}));console.log(n);var o={labels:r,datasets:[{label:"Today's Prices",data:n,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"}]};return Object(b.jsx)("div",{className:"todaysPrices",children:o&&Object(b.jsx)("div",{className:"chartContainer",children:Object(b.jsx)(d.a,{data:o,options:{maintainAspectRatio:!0}})})})};r(24);f.d.register(f.c,f.i,f.k,f.h,f.o,f.p,f.f);var O=function(t){var e=t.tomorrowsPrices,r=Array.from({length:24},(function(t,e){return e}));console.log(r);var n=Array.from(e,(function(t){return t.total}));console.log(n);var o={labels:r,datasets:[{label:"Tomorrow's Prices",data:n,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]};return Object(b.jsx)("div",{className:"tomorrowsPrices",children:o&&Object(b.jsx)("div",{className:"chartContainer",children:Object(b.jsx)(d.a,{data:o,options:{maintainAspectRatio:!0}})})})};var m=function(){var t=Object(n.useState)(null),e=Object(l.a)(t,2),r=e[0],o=e[1],c=Object(n.useState)(null),a=Object(l.a)(c,2),s=a[0],d=a[1],f=Object(n.useState)(null),m=Object(l.a)(f,2),g=m[0],v=m[1],y=Object(n.useState)(!1),x=Object(l.a)(y,2),w=x[0],A=x[1],P="query{\n\t\tviewer {\n\t\t\thomes {\n\t\t\t\tcurrentSubscription{\n\t\t\t\t\tpriceInfo{\n\t\t\t\t\t\tcurrent{\n\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\tenergy\n\t\t\t\t\t\t\ttax\n\t\t\t\t\t\t\tstartsAt\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoday {\n\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\tenergy\n\t\t\t\t\t\t\ttax\n\t\t\t\t\t\t\tstartsAt\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttomorrow {\n\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\tenergy\n\t\t\t\t\t\t\ttax\n\t\t\t\t\t\t\tstartsAt\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n  }";function S(t){console.log(t),d(t.viewer.homes[0].currentSubscription.priceInfo.today),v(t.viewer.homes[0].currentSubscription.priceInfo.tomorrow),o(t.viewer.homes[0].currentSubscription.priceInfo.current)}function C(){return(C=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Submitting"),fetch("https://api.tibber.com/v1-beta/gql",{method:"POST",headers:{Authorization:"Bearer QjAfeE7K_2jwxTx0k0TeSd7B_LUZjgYCqd-51M8BAtg","Content-Type":"application/json"},body:JSON.stringify({query:P})}).then((function(t){return t.json()})).then((function(t){return S(t.data)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){C.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){console.log(r),console.log(s),console.log(g)}),[r]),Object(b.jsxs)("div",{className:"App",children:[r&&Object(b.jsx)(j,{currentPrice:r}),s&&g&&!w&&Object(b.jsx)(p,{todaysPrices:s,tomorrowsPrices:g}),s&&w&&Object(b.jsx)(h,{todaysPrices:s}),g&&w&&Object(b.jsx)(O,{tomorrowsPrices:g}),Object(b.jsx)("button",{className:"separationButton",onClick:function(){A(!w)},children:w?"Join":"Separate"})]})};a.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.87d9140b.chunk.js.map